"use strict";var Pr=Object.create;var te=Object.defineProperty;var Ir=Object.getOwnPropertyDescriptor;var Ar=Object.getOwnPropertyNames;var Er=Object.getPrototypeOf,Tr=Object.prototype.hasOwnProperty;var u=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Cr=(e,t)=>{for(var n in t)te(e,n,{get:t[n],enumerable:!0})},ft=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Ar(t))!Tr.call(e,i)&&i!==n&&te(e,i,{get:()=>t[i],enumerable:!(r=Ir(t,i))||r.enumerable});return e};var Oe=(e,t,n)=>(n=e!=null?Pr(Er(e)):{},ft(t||!e||!e.__esModule?te(n,"default",{value:e,enumerable:!0}):n,e)),qr=e=>ft(te({},"__esModule",{value:!0}),e);var yt=u((Bs,ht)=>{ht.exports=gt;gt.sync=Gr;var pt=require("fs");function Or(e,t){var n=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!n||(n=n.split(";"),n.indexOf("")!==-1))return!0;for(var r=0;r<n.length;r++){var i=n[r].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}function mt(e,t,n){return!e.isSymbolicLink()&&!e.isFile()?!1:Or(t,n)}function gt(e,t,n){pt.stat(e,function(r,i){n(r,r?!1:mt(i,e,t))})}function Gr(e,t){return mt(pt.statSync(e),e,t)}});var _t=u((Us,wt)=>{wt.exports=St;St.sync=Rr;var vt=require("fs");function St(e,t,n){vt.stat(e,function(r,i){n(r,r?!1:xt(i,t))})}function Rr(e,t){return xt(vt.statSync(e),t)}function xt(e,t){return e.isFile()&&Mr(e,t)}function Mr(e,t){var n=e.mode,r=e.uid,i=e.gid,o=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),s=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),l=parseInt("010",8),c=parseInt("001",8),d=a|l,h=n&c||n&l&&i===s||n&a&&r===o||n&d&&o===0;return h}});var Pt=u((Hs,bt)=>{var Fs=require("fs"),re;process.platform==="win32"||global.TESTING_WINDOWS?re=yt():re=_t();bt.exports=Re;Re.sync=kr;function Re(e,t,n){if(typeof t=="function"&&(n=t,t={}),!n){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(r,i){Re(e,t||{},function(o,s){o?i(o):r(s)})})}re(e,t||{},function(r,i){r&&(r.code==="EACCES"||t&&t.ignoreErrors)&&(r=null,i=!1),n(r,i)})}function kr(e,t){try{return re.sync(e,t||{})}catch(n){if(t&&t.ignoreErrors||n.code==="EACCES")return!1;throw n}}});var Ot=u((js,qt)=>{var D=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",It=require("path"),Dr=D?";":":",At=Pt(),Et=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),Tt=(e,t)=>{let n=t.colon||Dr,r=e.match(/\//)||D&&e.match(/\\/)?[""]:[...D?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(n)],i=D?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=D?i.split(n):[""];return D&&e.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:r,pathExt:o,pathExtExe:i}},Ct=(e,t,n)=>{typeof t=="function"&&(n=t,t={}),t||(t={});let{pathEnv:r,pathExt:i,pathExtExe:o}=Tt(e,t),s=[],a=c=>new Promise((d,h)=>{if(c===r.length)return t.all&&s.length?d(s):h(Et(e));let f=r[c],p=/^".*"$/.test(f)?f.slice(1,-1):f,g=It.join(p,e),x=!p&&/^\.[\\\/]/.test(e)?e.slice(0,2)+g:g;d(l(x,c,0))}),l=(c,d,h)=>new Promise((f,p)=>{if(h===i.length)return f(a(d+1));let g=i[h];At(c+g,{pathExt:o},(x,b)=>{if(!x&&b)if(t.all)s.push(c+g);else return f(c+g);return f(l(c,d,h+1))})});return n?a(0).then(c=>n(null,c),n):a(0)},Lr=(e,t)=>{t=t||{};let{pathEnv:n,pathExt:r,pathExtExe:i}=Tt(e,t),o=[];for(let s=0;s<n.length;s++){let a=n[s],l=/^".*"$/.test(a)?a.slice(1,-1):a,c=It.join(l,e),d=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+c:c;for(let h=0;h<r.length;h++){let f=d+r[h];try{if(At.sync(f,{pathExt:i}))if(t.all)o.push(f);else return f}catch{}}}if(t.all&&o.length)return o;if(t.nothrow)return null;throw Et(e)};qt.exports=Ct;Ct.sync=Lr});var ke=u((Vs,Me)=>{"use strict";var Gt=(e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(r=>r.toUpperCase()==="PATH")||"Path"};Me.exports=Gt;Me.exports.default=Gt});var Dt=u((Xs,kt)=>{"use strict";var Rt=require("path"),Nr=Ot(),$r=ke();function Mt(e,t){let n=e.options.env||process.env,r=process.cwd(),i=e.options.cwd!=null,o=i&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(e.options.cwd)}catch{}let s;try{s=Nr.sync(e.command,{path:n[$r({env:n})],pathExt:t?Rt.delimiter:void 0})}catch{}finally{o&&process.chdir(r)}return s&&(s=Rt.resolve(i?e.options.cwd:"",s)),s}function Br(e){return Mt(e)||Mt(e,!0)}kt.exports=Br});var Lt=u((Ks,Le)=>{"use strict";var De=/([()\][%!^"`<>&|;, *?])/g;function Ur(e){return e=e.replace(De,"^$1"),e}function Fr(e,t){return e=`${e}`,e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e=`"${e}"`,e=e.replace(De,"^$1"),t&&(e=e.replace(De,"^$1")),e}Le.exports.command=Ur;Le.exports.argument=Fr});var $t=u((Ws,Nt)=>{"use strict";Nt.exports=/^#!(.*)/});var Ut=u((Qs,Bt)=>{"use strict";var Hr=$t();Bt.exports=(e="")=>{let t=e.match(Hr);if(!t)return null;let[n,r]=t[0].replace(/#! ?/,"").split(" "),i=n.split("/").pop();return i==="env"?r:r?`${i} ${r}`:i}});var Ht=u((zs,Ft)=>{"use strict";var Ne=require("fs"),jr=Ut();function Vr(e){let n=Buffer.alloc(150),r;try{r=Ne.openSync(e,"r"),Ne.readSync(r,n,0,150,0),Ne.closeSync(r)}catch{}return jr(n.toString())}Ft.exports=Vr});var Kt=u((Ys,Xt)=>{"use strict";var Xr=require("path"),jt=Dt(),Vt=Lt(),Kr=Ht(),Wr=process.platform==="win32",Qr=/\.(?:com|exe)$/i,zr=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Yr(e){e.file=jt(e);let t=e.file&&Kr(e.file);return t?(e.args.unshift(e.file),e.command=t,jt(e)):e.file}function Zr(e){if(!Wr)return e;let t=Yr(e),n=!Qr.test(t);if(e.options.forceShell||n){let r=zr.test(t);e.command=Xr.normalize(e.command),e.command=Vt.command(e.command),e.args=e.args.map(o=>Vt.argument(o,r));let i=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${i}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function Jr(e,t,n){t&&!Array.isArray(t)&&(n=t,t=null),t=t?t.slice(0):[],n=Object.assign({},n);let r={command:e,args:t,options:n,file:void 0,original:{command:e,args:t}};return n.shell?r:Zr(r)}Xt.exports=Jr});var zt=u((Zs,Qt)=>{"use strict";var $e=process.platform==="win32";function Be(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function ei(e,t){if(!$e)return;let n=e.emit;e.emit=function(r,i){if(r==="exit"){let o=Wt(i,t,"spawn");if(o)return n.call(e,"error",o)}return n.apply(e,arguments)}}function Wt(e,t){return $e&&e===1&&!t.file?Be(t.original,"spawn"):null}function ti(e,t){return $e&&e===1&&!t.file?Be(t.original,"spawnSync"):null}Qt.exports={hookChildProcess:ei,verifyENOENT:Wt,verifyENOENTSync:ti,notFoundError:Be}});var Jt=u((Js,L)=>{"use strict";var Yt=require("child_process"),Ue=Kt(),Fe=zt();function Zt(e,t,n){let r=Ue(e,t,n),i=Yt.spawn(r.command,r.args,r.options);return Fe.hookChildProcess(i,r),i}function ni(e,t,n){let r=Ue(e,t,n),i=Yt.spawnSync(r.command,r.args,r.options);return i.error=i.error||Fe.verifyENOENTSync(i.status,r),i}L.exports=Zt;L.exports.spawn=Zt;L.exports.sync=ni;L.exports._parse=Ue;L.exports._enoent=Fe});var tn=u((ea,en)=>{"use strict";en.exports=e=>{let t=typeof e=="string"?`
`:`
`.charCodeAt(),n=typeof e=="string"?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===n&&(e=e.slice(0,e.length-1)),e}});var on=u((ta,X)=>{"use strict";var V=require("path"),nn=ke(),rn=e=>{e={cwd:process.cwd(),path:process.env[nn()],execPath:process.execPath,...e};let t,n=V.resolve(e.cwd),r=[];for(;t!==n;)r.push(V.join(n,"node_modules/.bin")),t=n,n=V.resolve(n,"..");let i=V.resolve(e.cwd,e.execPath,"..");return r.push(i),r.concat(e.path).join(V.delimiter)};X.exports=rn;X.exports.default=rn;X.exports.env=e=>{e={env:process.env,...e};let t={...e.env},n=nn({env:t});return e.path=t[n],t[n]=X.exports(e),t}});var an=u((na,He)=>{"use strict";var sn=(e,t)=>{for(let n of Reflect.ownKeys(t))Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n));return e};He.exports=sn;He.exports.default=sn});var un=u((ra,oe)=>{"use strict";var ri=an(),ie=new WeakMap,cn=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let n,r=0,i=e.displayName||e.name||"<anonymous>",o=function(...s){if(ie.set(o,++r),r===1)n=e.apply(this,s),e=null;else if(t.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return n};return ri(o,e),ie.set(o,r),o};oe.exports=cn;oe.exports.default=cn;oe.exports.callCount=e=>{if(!ie.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return ie.get(e)}});var ln=u(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.SIGNALS=void 0;var ii=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];se.SIGNALS=ii});var je=u(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});N.SIGRTMAX=N.getRealtimeSignals=void 0;var oi=function(){let e=fn-dn+1;return Array.from({length:e},si)};N.getRealtimeSignals=oi;var si=function(e,t){return{name:`SIGRT${t+1}`,number:dn+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},dn=34,fn=64;N.SIGRTMAX=fn});var pn=u(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.getSignals=void 0;var ai=require("os"),ci=ln(),ui=je(),li=function(){let e=(0,ui.getRealtimeSignals)();return[...ci.SIGNALS,...e].map(di)};ae.getSignals=li;var di=function({name:e,number:t,description:n,action:r,forced:i=!1,standard:o}){let{signals:{[e]:s}}=ai.constants,a=s!==void 0;return{name:e,number:a?s:t,description:n,supported:a,action:r,forced:i,standard:o}}});var gn=u($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.signalsByNumber=$.signalsByName=void 0;var fi=require("os"),mn=pn(),pi=je(),mi=function(){return(0,mn.getSignals)().reduce(gi,{})},gi=function(e,{name:t,number:n,description:r,supported:i,action:o,forced:s,standard:a}){return{...e,[t]:{name:t,number:n,description:r,supported:i,action:o,forced:s,standard:a}}},hi=mi();$.signalsByName=hi;var yi=function(){let e=(0,mn.getSignals)(),t=pi.SIGRTMAX+1,n=Array.from({length:t},(r,i)=>vi(i,e));return Object.assign({},...n)},vi=function(e,t){let n=Si(e,t);if(n===void 0)return{};let{name:r,description:i,supported:o,action:s,forced:a,standard:l}=n;return{[e]:{name:r,number:e,description:i,supported:o,action:s,forced:a,standard:l}}},Si=function(e,t){let n=t.find(({name:r})=>fi.constants.signals[r]===e);return n!==void 0?n:t.find(r=>r.number===e)},xi=yi();$.signalsByNumber=xi});var yn=u((ca,hn)=>{"use strict";var{signalsByName:wi}=gn(),_i=({timedOut:e,timeout:t,errorCode:n,signal:r,signalDescription:i,exitCode:o,isCanceled:s})=>e?`timed out after ${t} milliseconds`:s?"was canceled":n!==void 0?`failed with ${n}`:r!==void 0?`was killed with ${r} (${i})`:o!==void 0?`failed with exit code ${o}`:"failed",bi=({stdout:e,stderr:t,all:n,error:r,signal:i,exitCode:o,command:s,escapedCommand:a,timedOut:l,isCanceled:c,killed:d,parsed:{options:{timeout:h}}})=>{o=o===null?void 0:o,i=i===null?void 0:i;let f=i===void 0?void 0:wi[i].description,p=r&&r.code,x=`Command ${_i({timedOut:l,timeout:h,errorCode:p,signal:i,signalDescription:f,exitCode:o,isCanceled:c})}: ${s}`,b=Object.prototype.toString.call(r)==="[object Error]",M=b?`${x}
${r.message}`:x,k=[M,t,e].filter(Boolean).join(`
`);return b?(r.originalMessage=r.message,r.message=k):r=new Error(k),r.shortMessage=M,r.command=s,r.escapedCommand=a,r.exitCode=o,r.signal=i,r.signalDescription=f,r.stdout=e,r.stderr=t,n!==void 0&&(r.all=n),"bufferedData"in r&&delete r.bufferedData,r.failed=!0,r.timedOut=Boolean(l),r.isCanceled=c,r.killed=d&&!l,r};hn.exports=bi});var Sn=u((ua,Ve)=>{"use strict";var ce=["stdin","stdout","stderr"],Pi=e=>ce.some(t=>e[t]!==void 0),vn=e=>{if(!e)return;let{stdio:t}=e;if(t===void 0)return ce.map(r=>e[r]);if(Pi(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${ce.map(r=>`\`${r}\``).join(", ")}`);if(typeof t=="string")return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);let n=Math.max(t.length,ce.length);return Array.from({length:n},(r,i)=>t[i])};Ve.exports=vn;Ve.exports.node=e=>{let t=vn(e);return t==="ipc"?"ipc":t===void 0||typeof t=="string"?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]}});var xn=u((la,ue)=>{ue.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&ue.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&ue.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var In=u((da,F)=>{var m=global.process,O=function(e){return e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function"};O(m)?(wn=require("assert"),B=xn(),_n=/^win/i.test(m.platform),K=require("events"),typeof K!="function"&&(K=K.EventEmitter),m.__signal_exit_emitter__?v=m.__signal_exit_emitter__:(v=m.__signal_exit_emitter__=new K,v.count=0,v.emitted={}),v.infinite||(v.setMaxListeners(1/0),v.infinite=!0),F.exports=function(e,t){if(!O(global.process))return function(){};wn.equal(typeof e,"function","a callback must be provided for exit handler"),U===!1&&Xe();var n="exit";t&&t.alwaysLast&&(n="afterexit");var r=function(){v.removeListener(n,e),v.listeners("exit").length===0&&v.listeners("afterexit").length===0&&le()};return v.on(n,e),r},le=function(){!U||!O(global.process)||(U=!1,B.forEach(function(t){try{m.removeListener(t,de[t])}catch{}}),m.emit=fe,m.reallyExit=Ke,v.count-=1)},F.exports.unload=le,G=function(t,n,r){v.emitted[t]||(v.emitted[t]=!0,v.emit(t,n,r))},de={},B.forEach(function(e){de[e]=function(){if(!!O(global.process)){var n=m.listeners(e);n.length===v.count&&(le(),G("exit",null,e),G("afterexit",null,e),_n&&e==="SIGHUP"&&(e="SIGINT"),m.kill(m.pid,e))}}}),F.exports.signals=function(){return B},U=!1,Xe=function(){U||!O(global.process)||(U=!0,v.count+=1,B=B.filter(function(t){try{return m.on(t,de[t]),!0}catch{return!1}}),m.emit=Pn,m.reallyExit=bn)},F.exports.load=Xe,Ke=m.reallyExit,bn=function(t){!O(global.process)||(m.exitCode=t||0,G("exit",m.exitCode,null),G("afterexit",m.exitCode,null),Ke.call(m,m.exitCode))},fe=m.emit,Pn=function(t,n){if(t==="exit"&&O(global.process)){n!==void 0&&(m.exitCode=n);var r=fe.apply(this,arguments);return G("exit",m.exitCode,null),G("afterexit",m.exitCode,null),r}else return fe.apply(this,arguments)}):F.exports=function(){return function(){}};var wn,B,_n,K,v,le,G,de,U,Xe,Ke,bn,fe,Pn});var En=u((fa,An)=>{"use strict";var Ii=require("os"),Ai=In(),Ei=1e3*5,Ti=(e,t="SIGTERM",n={})=>{let r=e(t);return Ci(e,t,n,r),r},Ci=(e,t,n,r)=>{if(!qi(t,n,r))return;let i=Gi(n),o=setTimeout(()=>{e("SIGKILL")},i);o.unref&&o.unref()},qi=(e,{forceKillAfterTimeout:t},n)=>Oi(e)&&t!==!1&&n,Oi=e=>e===Ii.constants.signals.SIGTERM||typeof e=="string"&&e.toUpperCase()==="SIGTERM",Gi=({forceKillAfterTimeout:e=!0})=>{if(e===!0)return Ei;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},Ri=(e,t)=>{e.kill()&&(t.isCanceled=!0)},Mi=(e,t,n)=>{e.kill(t),n(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))},ki=(e,{timeout:t,killSignal:n="SIGTERM"},r)=>{if(t===0||t===void 0)return r;let i,o=new Promise((a,l)=>{i=setTimeout(()=>{Mi(e,n,l)},t)}),s=r.finally(()=>{clearTimeout(i)});return Promise.race([o,s])},Di=({timeout:e})=>{if(e!==void 0&&(!Number.isFinite(e)||e<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)},Li=async(e,{cleanup:t,detached:n},r)=>{if(!t||n)return r;let i=Ai(()=>{e.kill()});return r.finally(()=>{i()})};An.exports={spawnedKill:Ti,spawnedCancel:Ri,setupTimeout:ki,validateTimeout:Di,setExitHandler:Li}});var Cn=u((pa,Tn)=>{"use strict";var I=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";I.writable=e=>I(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object";I.readable=e=>I(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object";I.duplex=e=>I.writable(e)&&I.readable(e);I.transform=e=>I.duplex(e)&&typeof e._transform=="function";Tn.exports=I});var On=u((ma,qn)=>{"use strict";var{PassThrough:Ni}=require("stream");qn.exports=e=>{e={...e};let{array:t}=e,{encoding:n}=e,r=n==="buffer",i=!1;t?i=!(n||r):n=n||"utf8",r&&(n=null);let o=new Ni({objectMode:i});n&&o.setEncoding(n);let s=0,a=[];return o.on("data",l=>{a.push(l),i?s=a.length:s+=l.length}),o.getBufferedValue=()=>t?a:r?Buffer.concat(a,s):a.join(""),o.getBufferedLength=()=>s,o}});var Gn=u((ga,W)=>{"use strict";var{constants:$i}=require("buffer"),Bi=require("stream"),{promisify:Ui}=require("util"),Fi=On(),Hi=Ui(Bi.pipeline),pe=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function We(e,t){if(!e)throw new Error("Expected a stream");t={maxBuffer:1/0,...t};let{maxBuffer:n}=t,r=Fi(t);return await new Promise((i,o)=>{let s=a=>{a&&r.getBufferedLength()<=$i.MAX_LENGTH&&(a.bufferedData=r.getBufferedValue()),o(a)};(async()=>{try{await Hi(e,r),i()}catch(a){s(a)}})(),r.on("data",()=>{r.getBufferedLength()>n&&s(new pe)})}),r.getBufferedValue()}W.exports=We;W.exports.buffer=(e,t)=>We(e,{...t,encoding:"buffer"});W.exports.array=(e,t)=>We(e,{...t,array:!0});W.exports.MaxBufferError=pe});var Mn=u((ha,Rn)=>{"use strict";var{PassThrough:ji}=require("stream");Rn.exports=function(){var e=[],t=new ji({objectMode:!0});return t.setMaxListeners(0),t.add=n,t.isEmpty=r,t.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(n),t;function n(o){return Array.isArray(o)?(o.forEach(n),this):(e.push(o),o.once("end",i.bind(null,o)),o.once("error",t.emit.bind(t,"error")),o.pipe(t,{end:!1}),this)}function r(){return e.length==0}function i(o){e=e.filter(function(s){return s!==o}),!e.length&&t.readable&&t.end()}}});var Nn=u((ya,Ln)=>{"use strict";var Dn=Cn(),kn=Gn(),Vi=Mn(),Xi=(e,t)=>{t===void 0||e.stdin===void 0||(Dn(t)?t.pipe(e.stdin):e.stdin.end(t))},Ki=(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;let n=Vi();return e.stdout&&n.add(e.stdout),e.stderr&&n.add(e.stderr),n},Qe=async(e,t)=>{if(!!e){e.destroy();try{return await t}catch(n){return n.bufferedData}}},ze=(e,{encoding:t,buffer:n,maxBuffer:r})=>{if(!(!e||!n))return t?kn(e,{encoding:t,maxBuffer:r}):kn.buffer(e,{maxBuffer:r})},Wi=async({stdout:e,stderr:t,all:n},{encoding:r,buffer:i,maxBuffer:o},s)=>{let a=ze(e,{encoding:r,buffer:i,maxBuffer:o}),l=ze(t,{encoding:r,buffer:i,maxBuffer:o}),c=ze(n,{encoding:r,buffer:i,maxBuffer:o*2});try{return await Promise.all([s,a,l,c])}catch(d){return Promise.all([{error:d,signal:d.signal,timedOut:d.timedOut},Qe(e,a),Qe(t,l),Qe(n,c)])}},Qi=({input:e})=>{if(Dn(e))throw new TypeError("The `input` option cannot be a stream in sync mode")};Ln.exports={handleInput:Xi,makeAllStream:Ki,getSpawnedResult:Wi,validateInputSync:Qi}});var Bn=u((va,$n)=>{"use strict";var zi=(async()=>{})().constructor.prototype,Yi=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(zi,e)]),Zi=(e,t)=>{for(let[n,r]of Yi){let i=typeof t=="function"?(...o)=>Reflect.apply(r.value,t(),o):r.value.bind(t);Reflect.defineProperty(e,n,{...r,value:i})}return e},Ji=e=>new Promise((t,n)=>{e.on("exit",(r,i)=>{t({exitCode:r,signal:i})}),e.on("error",r=>{n(r)}),e.stdin&&e.stdin.on("error",r=>{n(r)})});$n.exports={mergePromise:Zi,getSpawnedPromise:Ji}});var Hn=u((Sa,Fn)=>{"use strict";var Un=(e,t=[])=>Array.isArray(t)?[e,...t]:[e],eo=/^[\w.-]+$/,to=/"/g,no=e=>typeof e!="string"||eo.test(e)?e:`"${e.replace(to,'\\"')}"`,ro=(e,t)=>Un(e,t).join(" "),io=(e,t)=>Un(e,t).map(n=>no(n)).join(" "),oo=/ +/g,so=e=>{let t=[];for(let n of e.trim().split(oo)){let r=t[t.length-1];r&&r.endsWith("\\")?t[t.length-1]=`${r.slice(0,-1)} ${n}`:t.push(n)}return t};Fn.exports={joinCommand:ro,getEscapedCommand:io,parseCommand:so}});var zn=u((xa,H)=>{"use strict";var ao=require("path"),Ye=require("child_process"),co=Jt(),uo=tn(),lo=on(),fo=un(),me=yn(),Vn=Sn(),{spawnedKill:po,spawnedCancel:mo,setupTimeout:go,validateTimeout:ho,setExitHandler:yo}=En(),{handleInput:vo,getSpawnedResult:So,makeAllStream:xo,validateInputSync:wo}=Nn(),{mergePromise:jn,getSpawnedPromise:_o}=Bn(),{joinCommand:Xn,parseCommand:Kn,getEscapedCommand:Wn}=Hn(),bo=1e3*1e3*100,Po=({env:e,extendEnv:t,preferLocal:n,localDir:r,execPath:i})=>{let o=t?{...process.env,...e}:e;return n?lo.env({env:o,cwd:r,execPath:i}):o},Qn=(e,t,n={})=>{let r=co._parse(e,t,n);return e=r.command,t=r.args,n=r.options,n={maxBuffer:bo,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:n.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...n},n.env=Po(n),n.stdio=Vn(n),process.platform==="win32"&&ao.basename(e,".exe")==="cmd"&&t.unshift("/q"),{file:e,args:t,options:n,parsed:r}},Q=(e,t,n)=>typeof t!="string"&&!Buffer.isBuffer(t)?n===void 0?void 0:"":e.stripFinalNewline?uo(t):t,ge=(e,t,n)=>{let r=Qn(e,t,n),i=Xn(e,t),o=Wn(e,t);ho(r.options);let s;try{s=Ye.spawn(r.file,r.args,r.options)}catch(p){let g=new Ye.ChildProcess,x=Promise.reject(me({error:p,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:r,timedOut:!1,isCanceled:!1,killed:!1}));return jn(g,x)}let a=_o(s),l=go(s,r.options,a),c=yo(s,r.options,l),d={isCanceled:!1};s.kill=po.bind(null,s.kill.bind(s)),s.cancel=mo.bind(null,s,d);let f=fo(async()=>{let[{error:p,exitCode:g,signal:x,timedOut:b},M,k,ee]=await So(s,r.options,c),ct=Q(r.options,M),ut=Q(r.options,k),lt=Q(r.options,ee);if(p||g!==0||x!==null){let dt=me({error:p,exitCode:g,signal:x,stdout:ct,stderr:ut,all:lt,command:i,escapedCommand:o,parsed:r,timedOut:b,isCanceled:d.isCanceled,killed:s.killed});if(!r.options.reject)return dt;throw dt}return{command:i,escapedCommand:o,exitCode:0,stdout:ct,stderr:ut,all:lt,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return vo(s,r.options.input),s.all=xo(s,r.options),jn(s,f)};H.exports=ge;H.exports.sync=(e,t,n)=>{let r=Qn(e,t,n),i=Xn(e,t),o=Wn(e,t);wo(r.options);let s;try{s=Ye.spawnSync(r.file,r.args,r.options)}catch(c){throw me({error:c,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:r,timedOut:!1,isCanceled:!1,killed:!1})}let a=Q(r.options,s.stdout,s.error),l=Q(r.options,s.stderr,s.error);if(s.error||s.status!==0||s.signal!==null){let c=me({stdout:a,stderr:l,error:s.error,signal:s.signal,exitCode:s.status,command:i,escapedCommand:o,parsed:r,timedOut:s.error&&s.error.code==="ETIMEDOUT",isCanceled:!1,killed:s.signal!==null});if(!r.options.reject)return c;throw c}return{command:i,escapedCommand:o,exitCode:0,stdout:a,stderr:l,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};H.exports.command=(e,t)=>{let[n,...r]=Kn(e);return ge(n,r,t)};H.exports.commandSync=(e,t)=>{let[n,...r]=Kn(e);return ge.sync(n,r,t)};H.exports.node=(e,t,n={})=>{t&&!Array.isArray(t)&&typeof t=="object"&&(n=t,t=[]);let r=Vn.node(n),i=process.execArgv.filter(a=>!a.startsWith("--inspect")),{nodePath:o=process.execPath,nodeOptions:s=i}=n;return ge(o,[...s,e,...Array.isArray(t)?t:[]],{...n,stdin:void 0,stdout:void 0,stderr:void 0,stdio:r,shell:!1})}});var nt=u(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.default=To;var Ao=Eo(require("crypto"));function Eo(e){return e&&e.__esModule?e:{default:e}}var ve=new Uint8Array(256),ye=ve.length;function To(){return ye>ve.length-16&&(Ao.default.randomFillSync(ve),ye=0),ve.slice(ye,ye+=16)}});var nr=u(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.default=void 0;var Co=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;Se.default=Co});var Y=u(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.default=void 0;var qo=Oo(nr());function Oo(e){return e&&e.__esModule?e:{default:e}}function Go(e){return typeof e=="string"&&qo.default.test(e)}var Ro=Go;xe.default=Ro});var J=u(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});Z.default=void 0;Z.unsafeStringify=rr;var Mo=ko(Y());function ko(e){return e&&e.__esModule?e:{default:e}}var S=[];for(let e=0;e<256;++e)S.push((e+256).toString(16).slice(1));function rr(e,t=0){return(S[e[t+0]]+S[e[t+1]]+S[e[t+2]]+S[e[t+3]]+"-"+S[e[t+4]]+S[e[t+5]]+"-"+S[e[t+6]]+S[e[t+7]]+"-"+S[e[t+8]]+S[e[t+9]]+"-"+S[e[t+10]]+S[e[t+11]]+S[e[t+12]]+S[e[t+13]]+S[e[t+14]]+S[e[t+15]]).toLowerCase()}function Do(e,t=0){let n=rr(e,t);if(!(0,Mo.default)(n))throw TypeError("Stringified UUID is invalid");return n}var Lo=Do;Z.default=Lo});var or=u(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.default=void 0;var No=Bo(nt()),$o=J();function Bo(e){return e&&e.__esModule?e:{default:e}}var ir,rt,it=0,ot=0;function Uo(e,t,n){let r=t&&n||0,i=t||new Array(16);e=e||{};let o=e.node||ir,s=e.clockseq!==void 0?e.clockseq:rt;if(o==null||s==null){let f=e.random||(e.rng||No.default)();o==null&&(o=ir=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),s==null&&(s=rt=(f[6]<<8|f[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),l=e.nsecs!==void 0?e.nsecs:ot+1,c=a-it+(l-ot)/1e4;if(c<0&&e.clockseq===void 0&&(s=s+1&16383),(c<0||a>it)&&e.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");it=a,ot=l,rt=s,a+=122192928e5;let d=((a&268435455)*1e4+l)%4294967296;i[r++]=d>>>24&255,i[r++]=d>>>16&255,i[r++]=d>>>8&255,i[r++]=d&255;let h=a/4294967296*1e4&268435455;i[r++]=h>>>8&255,i[r++]=h&255,i[r++]=h>>>24&15|16,i[r++]=h>>>16&255,i[r++]=s>>>8|128,i[r++]=s&255;for(let f=0;f<6;++f)i[r+f]=o[f];return t||(0,$o.unsafeStringify)(i)}var Fo=Uo;we.default=Fo});var st=u(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.default=void 0;var Ho=jo(Y());function jo(e){return e&&e.__esModule?e:{default:e}}function Vo(e){if(!(0,Ho.default)(e))throw TypeError("Invalid UUID");let t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}var Xo=Vo;_e.default=Xo});var at=u(R=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0});R.URL=R.DNS=void 0;R.default=Yo;var Ko=J(),Wo=Qo(st());function Qo(e){return e&&e.__esModule?e:{default:e}}function zo(e){e=unescape(encodeURIComponent(e));let t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}var sr="6ba7b810-9dad-11d1-80b4-00c04fd430c8";R.DNS=sr;var ar="6ba7b811-9dad-11d1-80b4-00c04fd430c8";R.URL=ar;function Yo(e,t,n){function r(i,o,s,a){var l;if(typeof i=="string"&&(i=zo(i)),typeof o=="string"&&(o=(0,Wo.default)(o)),((l=o)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+i.length);if(c.set(o),c.set(i,o.length),c=n(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,s){a=a||0;for(let d=0;d<16;++d)s[a+d]=c[d];return s}return(0,Ko.unsafeStringify)(c)}try{r.name=e}catch{}return r.DNS=sr,r.URL=ar,r}});var cr=u(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.default=void 0;var Zo=Jo(require("crypto"));function Jo(e){return e&&e.__esModule?e:{default:e}}function es(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Zo.default.createHash("md5").update(e).digest()}var ts=es;be.default=ts});var lr=u(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.default=void 0;var ns=ur(at()),rs=ur(cr());function ur(e){return e&&e.__esModule?e:{default:e}}var is=(0,ns.default)("v3",48,rs.default),os=is;Pe.default=os});var dr=u(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.default=void 0;var ss=as(require("crypto"));function as(e){return e&&e.__esModule?e:{default:e}}var cs={randomUUID:ss.default.randomUUID};Ie.default=cs});var mr=u(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.default=void 0;var fr=pr(dr()),us=pr(nt()),ls=J();function pr(e){return e&&e.__esModule?e:{default:e}}function ds(e,t,n){if(fr.default.randomUUID&&!t&&!e)return fr.default.randomUUID();e=e||{};let r=e.random||(e.rng||us.default)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return(0,ls.unsafeStringify)(r)}var fs=ds;Ae.default=fs});var gr=u(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.default=void 0;var ps=ms(require("crypto"));function ms(e){return e&&e.__esModule?e:{default:e}}function gs(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),ps.default.createHash("sha1").update(e).digest()}var hs=gs;Ee.default=hs});var yr=u(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.default=void 0;var ys=hr(at()),vs=hr(gr());function hr(e){return e&&e.__esModule?e:{default:e}}var Ss=(0,ys.default)("v5",80,vs.default),xs=Ss;Te.default=xs});var vr=u(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.default=void 0;var ws="00000000-0000-0000-0000-000000000000";Ce.default=ws});var Sr=u(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.default=void 0;var _s=bs(Y());function bs(e){return e&&e.__esModule?e:{default:e}}function Ps(e){if(!(0,_s.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var Is=Ps;qe.default=Is});var xr=u(P=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});Object.defineProperty(P,"NIL",{enumerable:!0,get:function(){return qs.default}});Object.defineProperty(P,"parse",{enumerable:!0,get:function(){return Ms.default}});Object.defineProperty(P,"stringify",{enumerable:!0,get:function(){return Rs.default}});Object.defineProperty(P,"v1",{enumerable:!0,get:function(){return As.default}});Object.defineProperty(P,"v3",{enumerable:!0,get:function(){return Es.default}});Object.defineProperty(P,"v4",{enumerable:!0,get:function(){return Ts.default}});Object.defineProperty(P,"v5",{enumerable:!0,get:function(){return Cs.default}});Object.defineProperty(P,"validate",{enumerable:!0,get:function(){return Gs.default}});Object.defineProperty(P,"version",{enumerable:!0,get:function(){return Os.default}});var As=T(or()),Es=T(lr()),Ts=T(mr()),Cs=T(yr()),qs=T(vr()),Os=T(Sr()),Gs=T(Y()),Rs=T(J()),Ms=T(st());function T(e){return e&&e.__esModule?e:{default:e}}});var ks={};Cr(ks,{AnswerDetailView:()=>et,default:()=>br,useQuestion:()=>_r});module.exports=qr(ks);var _=require("@raycast/api"),E=require("@raycast/api"),y=require("react");var w=require("@raycast/api"),Ge=require("react/jsx-runtime"),ne=({title:e,onAction:t})=>(0,Ge.jsx)(w.Action,{title:e,icon:w.Icon.ArrowRight,onAction:t});var j=()=>(0,Ge.jsx)(w.ActionPanel.Section,{title:"Preferences",children:(0,Ge.jsx)(w.Action,{icon:w.Icon.Gear,title:"Open Extension Preferences",onAction:w.openExtensionPreferences})});var Ze=Oe(require("node:process"),1),Je=Oe(zn(),1);async function Yn(e,{humanReadableOutput:t=!0}={}){if(Ze.default.platform!=="darwin")throw new Error("macOS only");let n=t?[]:["-ss"],{stdout:r}=await(0,Je.default)("osascript",["-e",e,n]);return r}function Zn(e,{humanReadableOutput:t=!0}={}){if(Ze.default.platform!=="darwin")throw new Error("macOS only");let n=t?[]:["-ss"],{stdout:r}=Je.default.sync("osascript",["-e",e,...n]);return r}var z=require("@raycast/api");var he=require("@raycast/api"),Io=require("react/jsx-runtime"),Jn=()=>(0,Io.jsx)(he.List.EmptyView,{title:"\u8BE2\u95EE\u83AB\u65AF\u4EFB\u4F55\u95EE\u9898",description:`\u8F93\u5165\u95EE\u9898\uFF0C\u6572\u51FB\u56DE\u8F66\uFF0C\u65E2\u53EF\u7ACB\u5373\u5BF9\u8BDD\uFF1B
\u8F93\u5165\u65B0\u95EE\u9898\uFF0C\u53EF\u5728\u540C\u4E00\u4E2A\u4E0A\u4E0B\u6587\u8FDE\u7EED\u5BF9\u8BDD\uFF1B
\u56DE\u5230\u6839\u89C6\u56FE\u53EF\u91CD\u65B0\u5F00\u59CB\u4E00\u8F6E\u5BF9\u8BDD`,icon:he.Icon.QuestionMark});var er=require("@raycast/api"),q=require("react/jsx-runtime"),tr=({data:e,ques:t,ans:n,conve:r})=>{let i=e.sort((a,l)=>new Date(l.created_at).getTime()-new Date(a.created_at).getTime()),o=()=>{console.log("dasdadad"),Zn(`tell application "CharmingMac" to save in "\u8DF3\u8F6C\u5230\u83AB\u65AF" conversation "${r}" `),(0,er.closeMainWindow)()},s=()=>(0,q.jsxs)(z.ActionPanel,{children:[(0,q.jsx)(ne,{title:"\u8DF3\u8F6C\u5230\u83AB\u65AF",onAction:o}),(0,q.jsx)(j,{})]});return i.length===0?(0,q.jsx)(Jn,{}):(0,q.jsx)(z.List.Section,{title:"\u95EE\u9898",subtitle:"",children:i.map((a,l)=>(0,q.jsx)(z.List.Item,{id:"ssss",accessories:[{text:"#1"}],title:t,detail:(0,q.jsx)(et,{markdown:n.length>0?`${n}`:"\u7B49\u5F85\u83AB\u65AF\u56DE\u590D...."}),actions:t.length>0?s():null},"ssss"))})};var A=Oe(xr(),1),ja=A.default.v1,Va=A.default.v3,wr=A.default.v4,Xa=A.default.v5,Ka=A.default.NIL,Wa=A.default.version,Qa=A.default.validate,za=A.default.stringify,Ya=A.default.parse;var C=require("react/jsx-runtime");function _r(e){let{initialQuestion:t,disableAutoLoad:n}=e,[r,i]=(0,y.useState)(t),[o,s]=(0,y.useState)(!1),[a]=(0,y.useState)(()=>(0,E.getPreferenceValues)().isAutoLoad);(0,y.useEffect)(()=>{(async()=>{if(a&&!n){s(!0);try{let c=await(0,E.getSelectedText)();c.length>1&&(i(c.trim()),await(0,_.showToast)({style:_.Toast.Style.Success,title:"Selected text loaded!"}))}catch(c){await(0,_.showToast)({style:_.Toast.Style.Failure,title:"Selected text couldn't load",message:String(c)})}s(!1)}})()},[]);let l=(0,y.useCallback)(async c=>{i(c)},[i,r]);return(0,y.useMemo)(()=>({data:r,isLoading:o,update:l}),[r,o,l])}var et=e=>{let{markdown:t}=e;return(0,C.jsx)(E.List.Item.Detail,{markdown:t})};function br(){let[e,t]=(0,y.useState)(""),[n,r]=(0,y.useState)(),[i,o]=(0,y.useState)();(0,y.useEffect)(()=>{console.log("\u7B2C\u4E00\u6B21\u8FDB\u6765\uFF01\uFF01\uFF01");let p=new Date,g=String(p.getMonth()+1).padStart(2,"0"),x=String(p.getDate()).padStart(2,"0"),b=String(p.getHours()).padStart(2,"0"),M=String(p.getMinutes()).padStart(2,"0"),k=String(p.getSeconds()).padStart(2,"0"),ee=`${g}-${x} ${b}:${M}:${k}`;console.log(ee),o(`\u6765\u81EARaycast | ${ee}`)},[]),(0,y.useEffect)(()=>{n&&(0,_.showToast)({style:_.Toast.Style.Failure,title:"Something went wrong",message:n.message})},[n]);let[s,a]=(0,y.useState)([]),[l,c]=(0,y.useState)(),d=_r({initialQuestion:"",disableAutoLoad:!0});(0,y.useEffect)(()=>{l!=null&&(l?(0,_.showToast)({style:_.Toast.Style.Animated,title:"\u83AB\u65AF\u62FC\u547D\u83B7\u53D6\u4E2D...",message:"\u4E5F\u53EF\u4EE5\u8FD4\u56DE\u4E3B\u5E94\u7528\u67E5\u770B"}):(0,_.showToast)({style:_.Toast.Style.Success,title:"\u6210\u529F\u83B7\u53D6",message:"\u4E5F\u53EF\u4EE5\u8FD4\u56DE\u4E3B\u5E94\u7528\u67E5\u770B"}))},[l]),(0,y.useEffect)(()=>{d.data.length===0&&(t(""),a(p=>p.length===0?p:p.slice(0,-1)))},[d.data]);let h=()=>{console.log("\u56DE\u8F66"),c(!0);let p={id:wr(),answer:"",question:d.data,created_at:new Date().toISOString()};a(g=>[...g,p]),Yn(`tell application "CharmingMac" to save in "${d.data}" conversation "${i}" `).then(g=>{if(g.startsWith("[charming-error]")){let x=g.split("[charming-error]")[1];console.log(x);let b=`\u{1F4A5}${x}\u{1F4A5}`;r(new Error(`${b}`)),t(`${b}`)}else t(g);console.log(`\u8FD4\u56DE\u7ED3\u679C\uFF1A${g}`),c(!1)})},f=()=>(0,C.jsxs)(E.ActionPanel,{children:[(0,C.jsx)(ne,{title:"\u8BE2\u95EE\u83AB\u65AF",onAction:h}),(0,C.jsx)(j,{})]});return(0,C.jsx)(E.List,{searchText:d.data,isShowingDetail:s.length>0,filtering:!1,isLoading:l,onSearchTextChange:d.update,throttle:!1,navigationTitle:"Ask",actions:d.data?f():(0,C.jsx)(E.ActionPanel,{children:(0,C.jsx)(j,{})}),searchBarPlaceholder:"Ask a question...",children:(0,C.jsx)(tr,{data:s,ques:d.data,ans:e??"",conve:i??""})})}0&&(module.exports={AnswerDetailView,useQuestion});
